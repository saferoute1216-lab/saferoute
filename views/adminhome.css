    body {
        margin: 0;
        font-family: 'Poppins', sans-serif;
        background: #eef3f1;
    }

    .page {
        padding: 120px 30px 60px;
        max-width: 1100px;
        margin: auto;
    }

    /* HEADER */

    .topbar h1 {
        margin: 0;
        font-size: 28px;
    }

    .topbar p {
        margin: 4px 0 0;
        color: #6c7a74;
    }

    /* ALERT */

    .alert-banner {
        background: #f8e3e3;
        padding: 14px 16px;
        border-radius: 8px;
        display: flex;
        gap: 12px;
        align-items: flex-start;
        color: #d9534f;
        font-size: 18px;
        margin-top: 12px;
    }

    /* CARDS */

    .cards {
        display: grid;
        grid-template-columns: repeat(4,1fr);
        gap: 16px;
        margin-top: 20px;
    }

    .card {
        background: white;
        border-radius: 12px;
        padding: 16px;
        display: flex;
        gap: 14px;
        box-shadow: 0 2px 6px rgba(0,0,0,.06);
    }

    .card-sub {
        font-size: 12px;
        color: #8a9892;
        margin-top: 4px;
        font-weight: 500;
    }

    .card-value {
        font-size: 22px;
        font-weight: 700;
        color: #24322e;
    }

    .card-title {
        font-size: 13px;
        color: #6f7d77;
        font-weight: 600;
    }

    .icon {
        width: 42px;
        height: 42px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 18px;
    }

    .icon.red { background: #ffe9e9; color: #d64545; }
    .icon.teal { background: #e6f4f1; color: #2f7f73; }
    .icon.orange { background: #fff1e3; color: #d98a2b; }
    .icon.green { background: #e8f6ed; color: #3d8a57; }

    /* PANELS */

    .grid {
        display:grid;
        grid-template-columns: 1fr 1fr;
        gap:18px;
        margin-top:18px;
    }

    .panel {
        background:white;
        border-radius:14px;
        padding:18px;
        box-shadow: 0 2px 6px rgba(0,0,0,.06);
        min-width: 0;
    }

    .panel.full {
        grid-column:1 / -1;
        margin-top:18px;
    }

    .panel-head {
        display:flex;
        justify-content:space-between;
        align-items:center;
    }

    .panel-head i {
        color: #6f8f86;
        font-size: 16px;
    }

    .panel h3 {
        margin: 0 0 4px 0;
    }

    .panel-sub {
        margin: 2px 0 0 0;
        font-size: 13px;
        color: #7b8c86;
    }

    /* =========================
    EVACUATION TREND WITH RULER
    ========================= */

    .trend-chart-wrap {
        display: flex;
        gap: 12px;
        margin-top: 12px;
    }

    /* Y axis numbers */
    .trend-yaxis {
        height: 180px;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        font-size: 12px;
        color: #7b8c86;
        padding-right: 6px;
    }


    .trend-chart-wrap {
        display: flex;
        gap: 14px;
        margin-top: 12px;
    }

    .trend-yaxis {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        height: 180px;
        font-size: 12px;
        color: #7b8b86;
        text-align: right;
        padding-bottom: 20px;
    }

    .line-chart {
        height: 180px;
        width: 100%;
        position: relative;
        border-left: 2px solid #cfdad5;
        border-bottom: 2px solid #cfdad5;
        background: repeating-linear-gradient(
            to top,
            #e5ece8 0px,
            #e5ece8 1px,
            transparent 1px,
            transparent 36px
        );
    }


    .line-chart svg.trend-line {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        overflow: visible;
    }

    .line-chart svg.trend-line polyline {
        fill: none;
        stroke: #3f6f60;
        stroke-width: 1.5; 
        stroke-linecap: round;
        stroke-linejoin: round;
        stroke-dasharray: 200;
        stroke-dashoffset: 200;
        animation: drawLine 1.8s ease-out forwards;
    }

    .dot {
        width: 8px;
        height: 8px;
        background: #3f6f60;
        border-radius: 50%;
        position: absolute;
        z-index: 2;
    }

   
    @keyframes drawLine {
        to { stroke-dashoffset: 0; }
    }

    /* DOT POP */
    .line-chart .dot {
        transform: scale(0) translate(-50%, 50%);
        animation: popDot 0.6s ease forwards;
    }

    .line-chart .dot:nth-child(1) { animation-delay: 0s; }
    .line-chart .dot:nth-child(2) { animation-delay: 0.2s; }
    .line-chart .dot:nth-child(3) { animation-delay: 0.4s; }
    .line-chart .dot:nth-child(4) { animation-delay: 0.6s; }
    .line-chart .dot:nth-child(5) { animation-delay: 0.8s; }
    .line-chart .dot:nth-child(6) { animation-delay: 1s; }
    .line-chart .dot:nth-child(7) { animation-delay: 1.2s; }

    @keyframes popDot {
        to { transform: scale(1) translate(-50%, 50%); }
    }

    /* LATEST DOT PULSE */
    .line-chart .dot:last-child {
        animation: pulse 1.5s infinite;
    }

    @keyframes pulse {
        0% { box-shadow: 0 0 0 0 rgba(63,111,96,0.6); }
        100% { box-shadow: 0 0 0 10px rgba(63,111,96,0); }
    }

    .trend-xaxis {
        position: absolute;
        bottom: -22px;
        left: 0;
        width: 100%;
        display: flex;
        justify-content: space-between;
        font-size: 12px;
        color: #7b8b86;
    }


    .dot {
        width:8px;
        height:8px;
        background:#3f6f60;
        border-radius:50%;
        position:absolute;
        transform: translate(-50%, 50%);
    }

    /* PIE */

    .pie {
        width:180px;
        height:180px;
        border-radius:50%;
        margin:10px auto;
        background: conic-gradient(
            #3f6f60 0% 38%,
            #7fa8a0 38% 66%,
            #b8d2c9 66% 81%,
            #dfeee8 81% 100%
        );
    }

    .pie {
        transform: rotate(-90deg) scale(0.8);
        opacity: 0;
        animation: pieReveal 1.4s ease-out forwards;
    }

    @keyframes pieReveal {
        to { transform: rotate(0deg) scale(1); opacity:1; }
    }


    .legend div {
        opacity: 0;
        animation: fadeUp 0.6s ease forwards;
    }

    .legend div:nth-child(1){ animation-delay: 0.3s; }
    .legend div:nth-child(2){ animation-delay: 0.5s; }
    .legend div:nth-child(3){ animation-delay: 0.7s; }
    .legend div:nth-child(4){ animation-delay: 0.9s; }

    @keyframes fadeUp {
        from { transform: translateY(6px); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
    }


    .legend {
        font-size:13px;
        color:#5f6f68;
    }

    .legend .dot {
        width:10px;
        height:10px;
        display:inline-block;
        margin-right:6px;
        position:relative;
    }

    .c1{background:#3f6f60;}
    .c2{background:#7fa8a0;}
    .c3{background:#b8d2c9;}
    .c4{background:#dfeee8;}

    .hazard-chart-wrap {
        display: flex;
        gap: 14px;
        margin-top: 18px;
    }

    .hazard-yaxis {
        height: 200px;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        font-size: 12px;
        color: #7b8c86;
        padding-right: 6px;
    }

    .hazard-chart {
        flex: 1;
        height: 200px;
        display: flex;
        align-items: flex-end;
        justify-content: space-around;
        gap: 36px;
        padding: 0 20px;

        border-left: 2px solid #cfdad5;
        border-bottom: 2px solid #cfdad5;

        background-image: repeating-linear-gradient(
            to top,
            #dfe7e3 0px,
            #dfe7e3 1px,
            transparent 1px,
            transparent 50px
        );
    }

    .hazard-bar-wrap {
        width: 120px;
        height: 100%;
        position: relative;
    }

    .hazard-bar {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        border-radius: 10px 10px 0 0;
        background: linear-gradient(to top, #446f63, #5f8f83);
    }

    .hazard-bar {
        transform-origin: bottom;
        transform: scaleY(0);
        animation: growBar 1s ease-out forwards;
    }

    .hazard-bar-wrap:nth-child(1) .hazard-bar { animation-delay: 0.2s; }
    .hazard-bar-wrap:nth-child(2) .hazard-bar { animation-delay: 0.4s; }
    .hazard-bar-wrap:nth-child(3) .hazard-bar { animation-delay: 0.6s; }
    .hazard-bar-wrap:nth-child(4) .hazard-bar { animation-delay: 0.8s; }

    @keyframes growBar {
        to { transform: scaleY(1); }
    }


    .hazard-bar-wrap label {
        position: absolute;
        bottom: -20px;
        width: 100%;
        text-align: center;
        font-size: 13px;
        color: #6c7a74;
    }

    /* TABLE */

    table {
        width:100%;
        border-collapse:collapse;
        margin-top:10px;
    }

    th, td {
        padding:14px 16px;
        border-bottom:1px solid #e3ebe7;
        font-size:14px;
        text-align:left;
    }

    .panel.full th {
        font-size: 13px;
        color: #6f7d77;
        font-weight: 600;
    }

    .panel.full td {
        font-size: 14px;
        color: #2b3a36;
    }

    .panel:hover {
        box-shadow: 0 12px 30px rgba(63,111,96,0.12);
    }

    .progress {
        height:8px;
        background:#e5ece8;
        border-radius:999px;
        overflow:hidden;
        width:120px;
        display:inline-block;
    }

    .progress div {
        height:100%;
        background:#3f8f4e;
    }

    .progress.red div {
        background:#c93a3a;
    }

    .status {
        padding:4px 10px;
        border-radius:999px;
        font-size:12px;
        font-weight:bold;
    }

    .status.ok {background:#e3f3e8; color:#2f7a45;}
    .status.warn {background:#fff3d9; color:#b58100;}
    .status.bad {background:#fde4e4; color:#b03030;}

    .btn-view {
        background:#3f6f60;
        color:white;
        border:none;
        padding:8px 14px;
        border-radius:8px;
        cursor:pointer;
    }

    .btn-view i {
        margin-right: 6px;
    }


    .quick-actions {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 18px;
        margin-top: 28px;
    }

    .qa-card {
        display: flex;
        gap: 14px;
        align-items: flex-start;
        padding: 18px 20px;
        border-radius: 12px;
        border: 1.5px solid #7ea39a;
        background: #ffffff;
        text-decoration: none;
        color: #2d3a36;
        transition: 0.15s ease;
    }

    .qa-card:hover {
        background: #e7f1ee;
        transform: translateY(-2px);
    }

    .qa-card i {
        font-size: 20px;
        color: #4e7d73;
        margin-top: 2px;
    }

    .qa-title {
        font-weight: 600;
        font-size: 15px;
    }

    .qa-sub {
        font-size: 12px;
        color: #6f807a;
        margin-top: 4px;
    }


:root {
    --bg-main: #ffffff;
    --bg-card: #ffffff;
    --text-header: #1e3a32; /* DARK GREEN for Light Mode */
    --text-muted: #6b7280;
}

body.dark-mode {
    --bg-main: #121814;
    --bg-card: #1e2622;
    --text-header: #ffffff; /* WHITE for Dark Mode */
    --text-muted: #d1d5db;
}

/* Apply variables to the words you mentioned */
.topbar h1, 
.panel h3, 
.kpi-card h3,
.analytics-top h1 {
    color: var(--text-header) !important;
}

body {
    background: var(--bg-main);
    color: var(--text-header);
    transition: 0.3s;
}

.card, .panel {
    background: var(--bg-card) !important;
}

body.dark-mode td {
    color: var(--text-main) !important;
}

body {
    background: var(--bg-main);
    color: var(--text-main);
    transition: background 0.3s ease;
}

.card, .panel, .stat-card, .qa-card, .table-card, .layers-box, .legend-box, .kpi-card {
    background: var(--bg-card) !important;
    border: 1px solid var(--border-subtle) !important;
    color: var(--text-main) !important;
}

.card-sub, .topbar p, .analytics-top p, .stat-title, .qa-sub, .subtitle {
    color: var(--text-muted) !important;
}

body.dark-mode h1, 
body.dark-mode h2, 
body.dark-mode h3, 
body.dark-mode label,
body.dark-mode th {
    color: var(--text-main) !important;
}

body.dark-mode .card-sub, 
body.dark-mode .stat-title, 
body.dark-mode .qa-sub, 
body.dark-mode .subtitle {
    color: var(--text-muted) !important;
}

.bar-chart, .line-chart, .hazard-chart {
    background-image: repeating-linear-gradient(
        to top,
        var(--chart-grid) 0px,
        var(--chart-grid) 1px,
        transparent 1px,
        transparent 30px
    ) !important;
    border-color: var(--border-subtle) !important;
}

thead, th {
    background: var(--border-subtle) !important;
    color: var(--text-main);
}

body.dark-mode .card-value {
    color: var(--text-main) !important;
}

body.dark-mode .icon.red { background: #442a2a; color: #ff8080; }
body.dark-mode .icon.teal { background: #223a36; color: #7de3d4; }
body.dark-mode .icon.orange { background: #443522; color: #ffb35a; }
body.dark-mode .icon.green { background: #223a2a; color: #80ffaa; }

/* --- RESPONSIVE ADJUSTMENTS --- */

/* Standard padding for the main container */
.page {
    padding: 100px 20px 40px; /* Reduced top padding for mobile */
}

/* 1. Stack KPI Cards on mobile */
@media (max-width: 768px) {
    .cards {
        grid-template-columns: repeat(2, 1fr); /* 2 columns on tablets */
        gap: 12px;
    }

    .grid {
        grid-template-columns: 1fr; /* Stack panels vertically */
    }

    .quick-actions {
        grid-template-columns: repeat(2, 1fr); /* 2x2 grid for actions */
    }
}

@media (max-width: 480px) {
    .page {
        padding: 80px 15px 30px;
    }

    .topbar h1 {
        font-size: 22px;
    }

    /* Stack cards into a single column on very small phones */
    .cards {
        grid-template-columns: 1fr;
    }

    .quick-actions {
        grid-template-columns: 1fr;
    }

    .card {
        padding: 12px;
    }

    /* Make the Chart section scrollable if it's too wide */
    .trend-chart-wrap, .hazard-chart-wrap {
        overflow-x: auto;
        padding-bottom: 20px;
    }

    /* Handle Tables on Mobile */
    .panel.full {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }

    table {
        min-width: 600px; /* Allows horizontal swipe to see data */
    }

    /* Adjust Pie Chart size for small screens */
    .pie {
        width: 140px;
        height: 140px;
    }
    
    /* Ensure icons don't shrink */
    .icon {
        min-width: 42px;
    }
}

/* Fix for dark mode variables to ensure they exist */
:root {
    --border-subtle: #cfdad5;
    --chart-grid: #e5ece8;
    --text-main: #24322e;
}

body.dark-mode {
    --border-subtle: #2d3a36;
    --chart-grid: #1e2622;
    --text-main: #eef3f1;
}
